{
  "summary": {
    "total_tests": 104,
    "passed_tests": 78,
    "failed_tests": 24,
    "skipped_tests": 2,
    "success_rate": 75.0,
    "total_duration": 7795.1457262039185,
    "average_duration": 74.95332429042229,
    "passed_duration": 6147.043232679367,
    "failed_duration": 1637.2261939048767
  },
  "results": [
    {
      "test_name": "Add Memory - Basic",
      "status": "passed",
      "duration": 356.4475073814392,
      "error": null,
      "details": null
    },
    {
      "test_name": "Add Memory - API Key",
      "status": "passed",
      "duration": 261.19339966773987,
      "error": null,
      "details": null
    },
    {
      "test_name": "Add Memory - External User ID + Custom Metadata",
      "status": "passed",
      "duration": 190.65781474113464,
      "error": null,
      "details": null
    },
    {
      "test_name": "Add Memory - External User ID Only",
      "status": "passed",
      "duration": 205.65980100631714,
      "error": null,
      "details": null
    },
    {
      "test_name": "Add Memory - External User ID + ACL",
      "status": "passed",
      "duration": 178.7744700908661,
      "error": null,
      "details": null
    },
    {
      "test_name": "Add Memory - User ID from Created User",
      "status": "passed",
      "duration": 139.10890984535217,
      "error": null,
      "details": null
    },
    {
      "test_name": "Batch Add Memory - Basic",
      "status": "passed",
      "duration": 329.89604091644287,
      "error": null,
      "details": null
    },
    {
      "test_name": "Batch Add Memory - User ID",
      "status": "passed",
      "duration": 419.45315504074097,
      "error": null,
      "details": null
    },
    {
      "test_name": "Batch Add Memory - External User ID",
      "status": "passed",
      "duration": 612.3761079311371,
      "error": null,
      "details": null
    },
    {
      "test_name": "Batch Add Memory - Webhook Success",
      "status": "passed",
      "duration": 333.4618630409241,
      "error": null,
      "details": null
    },
    {
      "test_name": "Batch Add Memory - Webhook Partial Success",
      "status": "passed",
      "duration": 179.62941694259644,
      "error": null,
      "details": null
    },
    {
      "test_name": "Batch Add Memory - Webhook No URL",
      "status": "passed",
      "duration": 117.26947116851807,
      "error": null,
      "details": null
    },
    {
      "test_name": "Batch Add Memory - Webhook Azure Fallback",
      "status": "failed",
      "duration": 120.89377212524414,
      "error": "Expected 'send_batch_completion_webhook' to have been called once. Called 0 times.",
      "details": null
    },
    {
      "test_name": "Batch Add Memory - Webhook Payload Structure",
      "status": "passed",
      "duration": 116.12546515464783,
      "error": null,
      "details": null
    },
    {
      "test_name": "Batch Add Memory - Webhook Immediate (skip_background=True)",
      "status": "passed",
      "duration": 36.625768184661865,
      "error": null,
      "details": null
    },
    {
      "test_name": "Batch Add Memory - Webhook With Background Processing",
      "status": "passed",
      "duration": 206.35858416557312,
      "error": null,
      "details": null
    },
    {
      "test_name": "Update Memory - Basic",
      "status": "failed",
      "duration": 36.298731088638306,
      "error": "Failed to retrieve added memory",
      "details": null
    },
    {
      "test_name": "Update Memory - API Key",
      "status": "passed",
      "duration": 31.30002188682556,
      "error": null,
      "details": null
    },
    {
      "test_name": "Update Memory - ACL with Real Users",
      "status": "passed",
      "duration": 25.617480993270874,
      "error": null,
      "details": null
    },
    {
      "test_name": "Get Memory - Basic",
      "status": "passed",
      "duration": 94.75914072990417,
      "error": null,
      "details": null
    },
    {
      "test_name": "Search Memory - Basic",
      "status": "failed",
      "duration": 17.40960693359375,
      "error": "Response should not have errors",
      "details": null
    },
    {
      "test_name": "Search Memory - User ID ACL",
      "status": "failed",
      "duration": 220.06075620651245,
      "error": "user_id does not have read access in acl",
      "details": null
    },
    {
      "test_name": "Search Memory - External User ID ACL",
      "status": "passed",
      "duration": 215.441792011261,
      "error": null,
      "details": null
    },
    {
      "test_name": "Search Memory - New User Qwen Route",
      "status": "passed",
      "duration": 21.72660517692566,
      "error": null,
      "details": null
    },
    {
      "test_name": "Search Memory - Custom Metadata Filter (Qwen Only)",
      "status": "passed",
      "duration": 251.2940230369568,
      "error": null,
      "details": null
    },
    {
      "test_name": "Search Memory - Numeric Custom Metadata Filter",
      "status": "passed",
      "duration": 223.88201379776,
      "error": null,
      "details": null
    },
    {
      "test_name": "Search Memory - List Custom Metadata Filter",
      "status": "passed",
      "duration": 227.7327401638031,
      "error": null,
      "details": null
    },
    {
      "test_name": "Search Memory - Boolean Custom Metadata Filter",
      "status": "passed",
      "duration": 209.20349407196045,
      "error": null,
      "details": null
    },
    {
      "test_name": "Search Memory - Mixed Custom Metadata Types",
      "status": "passed",
      "duration": 106.21690011024475,
      "error": null,
      "details": null
    },
    {
      "test_name": "Search Memory - Organization and Namespace Filter",
      "status": "failed",
      "duration": 314.9474620819092,
      "error": "Namespace search failed: {\"code\":400,\"status\":\"error\",\"data\":null,\"error\":\"2 validation errors for Memory\\norganization_id\\n  Input should be a valid string [type=string_type, input_value={}, input_type=dict]\\n    For further information visit https://errors.pydantic.dev/2.12/v/string_type\\nnamespace_id\\n  Input should be a valid string [type=string_type, input_value={}, input_type=dict]\\n    For further information visit https://errors.pydantic.dev/2.12/v/string_type\",\"details\":null,\"search_id\":null}",
      "details": null
    },
    {
      "test_name": "Search Memory - Agentic Graph",
      "status": "passed",
      "duration": 224.09147596359253,
      "error": null,
      "details": null
    },
    {
      "test_name": "Search Memory - Predicted Grouping Logging",
      "status": "failed",
      "duration": 12.426983833312988,
      "error": "",
      "details": null
    },
    {
      "test_name": "Search Memory - Fixed User Cache Test",
      "status": "failed",
      "duration": 22.16556215286255,
      "error": "Expected 2 timings, got 0: []",
      "details": null
    },
    {
      "test_name": "Search Memory - Low-similarity Performance",
      "status": "passed",
      "duration": 33.5783269405365,
      "error": null,
      "details": null
    },
    {
      "test_name": "Auth/Dev Marking - APIKey Sets Developer",
      "status": "passed",
      "duration": 11.868678092956543,
      "error": null,
      "details": null
    },
    {
      "test_name": "Auth/Dev Marking - Bearer Only Does Not Set Developer",
      "status": "skipped",
      "duration": 10.802490949630737,
      "error": null,
      "details": "No valid Bearer token available for testing"
    },
    {
      "test_name": "Auth/Dev Marking - Anon End-User Not Marked Developer When Dev API Key Used",
      "status": "passed",
      "duration": 126.33436989784241,
      "error": null,
      "details": null
    },
    {
      "test_name": "Delete Memory - Basic",
      "status": "passed",
      "duration": 39.99287700653076,
      "error": null,
      "details": null
    },
    {
      "test_name": "Delete Memory - API Key",
      "status": "passed",
      "duration": 15.905277013778687,
      "error": null,
      "details": null
    },
    {
      "test_name": "Delete All Memories - Complete Workflow",
      "status": "passed",
      "duration": 30.089465856552124,
      "error": null,
      "details": null
    },
    {
      "test_name": "Delete All Memories - External User ID",
      "status": "passed",
      "duration": 20.667057037353516,
      "error": null,
      "details": null
    },
    {
      "test_name": "Delete All Memories - No Memories Found",
      "status": "passed",
      "duration": 14.335326910018921,
      "error": null,
      "details": null
    },
    {
      "test_name": "Upload Document V2 - API Key",
      "status": "passed",
      "duration": 3.0228800773620605,
      "error": null,
      "details": null
    },
    {
      "test_name": "Upload Document V2 - Session Token",
      "status": "passed",
      "duration": 0.5822820663452148,
      "error": null,
      "details": null
    },
    {
      "test_name": "Upload Document V2 - Real PDF File",
      "status": "failed",
      "duration": 44.729307889938354,
      "error": "No Post created for this upload_id",
      "details": null
    },
    {
      "test_name": "Upload Document V2 - Real PDF with Custom Schema",
      "status": "failed",
      "duration": 151.83728694915771,
      "error": "No memories linked to Post UUJ9yrVekp",
      "details": null
    },
    {
      "test_name": "Upload Document V2 - Invalid File Type",
      "status": "passed",
      "duration": 0.17022109031677246,
      "error": null,
      "details": null
    },
    {
      "test_name": "Upload Document V2 - Malicious Content",
      "status": "passed",
      "duration": 0.022511005401611328,
      "error": null,
      "details": null
    },
    {
      "test_name": "Upload Document V2 - Large File",
      "status": "passed",
      "duration": 0.10236215591430664,
      "error": null,
      "details": null
    },
    {
      "test_name": "Upload Document V2 - With Webhook",
      "status": "passed",
      "duration": 0.40008115768432617,
      "error": null,
      "details": null
    },
    {
      "test_name": "Upload Document V2 - Multi-tenant",
      "status": "passed",
      "duration": 0.3013179302215576,
      "error": null,
      "details": null
    },
    {
      "test_name": "Upload Document V2 - Provider Preference",
      "status": "passed",
      "duration": 0.7587838172912598,
      "error": null,
      "details": null
    },
    {
      "test_name": "Upload Document V2 - Authentication Failure",
      "status": "passed",
      "duration": 0.567202091217041,
      "error": null,
      "details": null
    },
    {
      "test_name": "Document Status Endpoint",
      "status": "passed",
      "duration": 0.06039094924926758,
      "error": null,
      "details": null
    },
    {
      "test_name": "Document Cancel Endpoint",
      "status": "passed",
      "duration": 0.06543278694152832,
      "error": null,
      "details": null
    },
    {
      "test_name": "Reducto Provider - Direct and Route",
      "status": "passed",
      "duration": 28.118412971496582,
      "error": null,
      "details": null
    },
    {
      "test_name": "Reducto Provider - Simple Upload",
      "status": "passed",
      "duration": 59.594024896621704,
      "error": null,
      "details": null
    },
    {
      "test_name": "Upload Document V2 - Gemini Provider",
      "status": "passed",
      "duration": 42.507572174072266,
      "error": null,
      "details": null
    },
    {
      "test_name": "Upload Document V2 - TensorLake Provider",
      "status": "failed",
      "duration": 217.3507571220398,
      "error": "TensorLake processing failed: Activity task failed",
      "details": null
    },
    {
      "test_name": "Create User - Basic",
      "status": "passed",
      "duration": 3.5256259441375732,
      "error": null,
      "details": null
    },
    {
      "test_name": "Create User - Anonymous",
      "status": "passed",
      "duration": 4.051770925521851,
      "error": null,
      "details": null
    },
    {
      "test_name": "Create User - Batch",
      "status": "passed",
      "duration": 5.611459255218506,
      "error": null,
      "details": null
    },
    {
      "test_name": "Get User - Basic",
      "status": "passed",
      "duration": 3.9738330841064453,
      "error": null,
      "details": null
    },
    {
      "test_name": "Update User - Basic",
      "status": "passed",
      "duration": 4.051246166229248,
      "error": null,
      "details": null
    },
    {
      "test_name": "Delete User - Basic",
      "status": "passed",
      "duration": 3.6328177452087402,
      "error": null,
      "details": null
    },
    {
      "test_name": "Delete User - By External ID",
      "status": "passed",
      "duration": 4.351094007492065,
      "error": null,
      "details": null
    },
    {
      "test_name": "List Users - Basic",
      "status": "passed",
      "duration": 7.548391819000244,
      "error": null,
      "details": null
    },
    {
      "test_name": "Feedback - End to End",
      "status": "failed",
      "duration": 21.553603887557983,
      "error": "Search failed: {\"code\":400,\"status\":\"error\",\"data\":null,\"error\":\"2 validation errors for Memory\\norganization_id\\n  Input should be a valid string [type=string_type, input_value={}, input_type=dict]\\n    For further information visit https://errors.pydantic.dev/2.12/v/string_type\\nnamespace_id\\n  Input should be a valid string [type=string_type, input_value={}, input_type=dict]\\n    For further information visit https://errors.pydantic.dev/2.12/v/string_type\",\"details\":null,\"search_id\":null}",
      "details": null
    },
    {
      "test_name": "Feedback - Get by ID",
      "status": "failed",
      "duration": 12.371303081512451,
      "error": "Search failed: {\"code\":400,\"status\":\"error\",\"data\":null,\"error\":\"2 validation errors for Memory\\norganization_id\\n  Input should be a valid string [type=string_type, input_value={}, input_type=dict]\\n    For further information visit https://errors.pydantic.dev/2.12/v/string_type\\nnamespace_id\\n  Input should be a valid string [type=string_type, input_value={}, input_type=dict]\\n    For further information visit https://errors.pydantic.dev/2.12/v/string_type\",\"details\":null,\"search_id\":null}",
      "details": null
    },
    {
      "test_name": "Sync Tiers - Basic",
      "status": "passed",
      "duration": 13.401262283325195,
      "error": null,
      "details": null
    },
    {
      "test_name": "Sync Tiers - With Embeddings (small)",
      "status": "passed",
      "duration": 36.86948227882385,
      "error": null,
      "details": null
    },
    {
      "test_name": "Sync Delta - Cursor Pagination",
      "status": "passed",
      "duration": 11.821421146392822,
      "error": null,
      "details": null
    },
    {
      "test_name": "QueryLog - Memory Metadata with Query Log Fields",
      "status": "passed",
      "duration": 0.00018596649169921875,
      "error": null,
      "details": null
    },
    {
      "test_name": "QueryLog - Classification Data Detection",
      "status": "passed",
      "duration": 0.0006549358367919922,
      "error": null,
      "details": null
    },
    {
      "test_name": "QueryLog - Search with Query Log Integration",
      "status": "passed",
      "duration": 0.00018787384033203125,
      "error": null,
      "details": null
    },
    {
      "test_name": "QueryLog - Agentic Graph Log Model Creation",
      "status": "passed",
      "duration": 0.00013113021850585938,
      "error": null,
      "details": null
    },
    {
      "test_name": "QueryLog - User Feedback Log Model Creation",
      "status": "passed",
      "duration": 0.00010323524475097656,
      "error": null,
      "details": null
    },
    {
      "test_name": "QueryLog - Agentic Graph Log with Relations",
      "status": "passed",
      "duration": 0.00010609626770019531,
      "error": null,
      "details": null
    },
    {
      "test_name": "QueryLog - User Feedback Log Minimal",
      "status": "passed",
      "duration": 9.202957153320312e-05,
      "error": null,
      "details": null
    },
    {
      "test_name": "QueryLog - Agentic Graph Log Storage Function",
      "status": "passed",
      "duration": 0.00012421607971191406,
      "error": null,
      "details": null
    },
    {
      "test_name": "QueryLog - User Feedback Log Storage Function",
      "status": "passed",
      "duration": 8.916854858398438e-05,
      "error": null,
      "details": null
    },
    {
      "test_name": "QueryLog - Agentic Graph Log Data Preparation",
      "status": "passed",
      "duration": 0.00011396408081054688,
      "error": null,
      "details": null
    },
    {
      "test_name": "QueryLog - User Feedback Log Data Preparation",
      "status": "passed",
      "duration": 9.226799011230469e-05,
      "error": null,
      "details": null
    },
    {
      "test_name": "QueryLog - Memory Retrieval Log Predicted Grouping",
      "status": "skipped",
      "duration": 4.38690185546875e-05,
      "error": null,
      "details": "Requires monkeypatch fixture"
    },
    {
      "test_name": "QueryLog - Persisted with Classification",
      "status": "passed",
      "duration": 21.550644159317017,
      "error": null,
      "details": null
    },
    {
      "test_name": "QueryLog - Real creation and memory increment",
      "status": "failed",
      "duration": 4.640194654464722,
      "error": "",
      "details": null
    },
    {
      "test_name": "QueryLog - Cache hits increment on repeated search",
      "status": "failed",
      "duration": 4.982342004776001,
      "error": "Search failed: 400 {\"code\":400,\"status\":\"error\",\"data\":null,\"error\":\"2 validation errors for Memory\\norganization_id\\n  Input should be a valid string [type=string_type, input_value={}, input_type=dict]\\n    For further information visit https://errors.pydantic.dev/2.12/v/string_type\\nnamespace_id\\n  Input should be a valid string [type=string_type, input_value={}, input_type=dict]\\n    For further information visit https://errors.pydantic.dev/2.12/v/string_type\",\"details\":null,\"search_id\":null}",
      "details": null
    },
    {
      "test_name": "QueryLog - Fused confidence matches weight delta",
      "status": "failed",
      "duration": 3.597072124481201,
      "error": "Search failed: 400 {\"code\":400,\"status\":\"error\",\"data\":null,\"error\":\"2 validation errors for Memory\\norganization_id\\n  Input should be a valid string [type=string_type, input_value={}, input_type=dict]\\n    For further information visit https://errors.pydantic.dev/2.12/v/string_type\\nnamespace_id\\n  Input should be a valid string [type=string_type, input_value={}, input_type=dict]\\n    For further information visit https://errors.pydantic.dev/2.12/v/string_type\",\"details\":null,\"search_id\":null}",
      "details": null
    },
    {
      "test_name": "QueryLog - Backfill Retrieval Counters Small Batch",
      "status": "failed",
      "duration": 5.674906969070435,
      "error": "",
      "details": null
    },
    {
      "test_name": "QueryLog - Sync Tiers Returns Ranked Tier1",
      "status": "failed",
      "duration": 5.728859901428223,
      "error": "",
      "details": null
    },
    {
      "test_name": "Custom Schema - Create Security Schema",
      "status": "passed",
      "duration": 7.525239944458008,
      "error": null,
      "details": null
    },
    {
      "test_name": "Custom Schema - Add Memory with schema_id",
      "status": "failed",
      "duration": 212.0198621749878,
      "error": "'success'",
      "details": null
    },
    {
      "test_name": "Custom Schema - Wait for Memory Processing",
      "status": "failed",
      "duration": 0.00017189979553222656,
      "error": "Memory must be created first - run test_v1_add_memory_with_schema_id",
      "details": null
    },
    {
      "test_name": "Custom Schema - Search Verify Neo4j Nodes",
      "status": "failed",
      "duration": 0.0001049041748046875,
      "error": "Memory must be created first",
      "details": null
    },
    {
      "test_name": "Custom Schema - Search with Agentic Graph",
      "status": "failed",
      "duration": 35.505537033081055,
      "error": "Agentic search failed: {\"code\":400,\"status\":\"error\",\"data\":null,\"error\":\"2 validation errors for Memory\\norganization_id\\n  Input should be a valid string [type=string_type, input_value={}, input_type=dict]\\n    For further information visit https://errors.pydantic.dev/2.12/v/string_type\\nnamespace_id\\n  Input should be a valid string [type=string_type, input_value={}, input_type=dict]\\n    For further information visit https://errors.pydantic.dev/2.12/v/string_type\",\"details\":null,\"search_id\":null}",
      "details": null
    },
    {
      "test_name": "Custom Schema - Add Memory with graph_override",
      "status": "failed",
      "duration": 0.0017919540405273438,
      "error": "Memory with graph_override failed: {\"detail\":[{\"type\":\"extra_forbidden\",\"loc\":[\"body\",\"graph_override\"],\"msg\":\"Extra inputs are not permitted\",\"input\":{\"nodes\":[{\"label\":\"SecurityBehavior\",\"properties\":{\"name\":\"Unauthorized Access Attempt\",\"description\":\"Detected unauthorized access attempt to admin panel\",\"severity\":\"critical\",\"category\":\"access_control\"}},{\"label\":\"Impact\",\"properties\":{\"name\":\"Potential Data Breach\",\"severity\":\"high\",\"description\":\"Could lead to exposure of customer data\"}},{\"label\":\"Tactic\",\"properties\":{\"tactic_id\":\"TA0001\",\"name\":\"Initial Access\",\"description\":\"MITRE ATT&CK Initial Access tactic\"}}],\"relationships\":[{\"type\":\"HAS_IMPACT\",\"source\":{\"label\":\"SecurityBehavior\",\"identifier\":\"name\",\"value\":\"Unauthorized Access Attempt\"},\"target\":{\"label\":\"Impact\",\"identifier\":\"name\",\"value\":\"Potential Data Breach\"}},{\"type\":\"MAPS_TO_TACTIC\",\"source\":{\"label\":\"SecurityBehavior\",\"identifier\":\"name\",\"value\":\"Unauthorized Access Attempt\"},\"target\":{\"label\":\"Tactic\",\"identifier\":\"tactic_id\",\"value\":\"TA0001\"}}]}}]}",
      "details": null
    },
    {
      "test_name": "Custom Schema - Full Workflow Validation",
      "status": "failed",
      "duration": 4.38690185546875e-05,
      "error": "Memory creation failed",
      "details": null
    },
    {
      "test_name": "Graph Generation - Auto Mode with Schema ID",
      "status": "passed",
      "duration": 154.5531370639801,
      "error": null,
      "details": null
    },
    {
      "test_name": "Graph Generation - Auto Mode with Property Overrides",
      "status": "failed",
      "duration": 173.0301730632782,
      "error": "Sarah's email override not applied",
      "details": null
    },
    {
      "test_name": "Graph Generation - Manual Mode with Explicit Graph",
      "status": "passed",
      "duration": 121.21804404258728,
      "error": null,
      "details": null
    },
    {
      "test_name": "Multi-Tenant - Auth Models",
      "status": "passed",
      "duration": 0.0005459785461425781,
      "error": null,
      "details": null
    },
    {
      "test_name": "Multi-Tenant - Memory Models Fields",
      "status": "passed",
      "duration": 0.0004649162292480469,
      "error": null,
      "details": null
    },
    {
      "test_name": "Multi-Tenant - Batch Memory Scoping",
      "status": "passed",
      "duration": 0.005356788635253906,
      "error": null,
      "details": null
    },
    {
      "test_name": "Multi-Tenant - Backward Compatibility",
      "status": "passed",
      "duration": 0.0011970996856689453,
      "error": null,
      "details": null
    }
  ],
  "timestamp": "2026-01-30T18:19:43.138135"
}